(function(){function a(a){const b=document.querySelector(a);return b?((b.value||"")+"").trim():""}const b=window.wpoIpsPeppol||{};if(!b.endpoint_derivation)return;const c=b.billing_country_selector,d=b.peppol_input_wrapper_selector,f=window.WPO_IPS_PeppolEndpointDerivation.init(b,{getBillingCountry:function(){try{const a=window.wp?.data?.select?.("wc/store/cart");if(a&&"function"==typeof a.getCustomerData){const b=a.getCustomerData()||{},c=b.billingAddress?.country||b.billing_address?.country||b.customer?.billingAddress?.country||b.customer?.billing_address?.country;if(c)return(c+"").trim()}}catch(a){}return a(c)},getEndpointNodes(){return{wrapper:document.querySelector(d),endpoint:document.querySelector(d+" input")}},onSetFieldValue(a,b){const c=a.closest(".wc-block-components-text-input");c&&b?c.classList.add("is-active"):c&&!b&&c.classList.remove("is-active")}}),g=document.querySelector("#order-fields")||document.querySelector(".wc-block-checkout")||document.documentElement;new MutationObserver(()=>f.schedule("mutation")).observe(g,{childList:!0,subtree:!0}),document.addEventListener("input",a=>{(a.target?.matches(c)||a.target?.matches(b.vat_field_selector))&&f.schedule("input")}),window.wp?.data?.subscribe&&window.wp.data.subscribe(()=>f.schedule("store")),f.schedule("init")})();